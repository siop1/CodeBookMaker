<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Code Notebook Maker — Create Beautiful PDF Notebooks from Your Code</title>
    <meta name="description"
        content="Upload a ZIP of your code and generate a beautifully-styled, syntax-highlighted PDF notebook. SEO-friendly, responsive, and accessible UI." />
    <link rel="canonical" href="https://example.com/" />
    <meta name="robots" content="index, follow" />

    <meta property="og:title" content="Code Notebook Maker — Generate PDF Notebooks from Code" />
    <meta property="og:description"
        content="Upload a ZIP of source files and get a styled PDF with syntax highlighting and table of contents." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://example.com/" />
    <meta property="og:image" content="/assets/og-image.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Code Notebook Maker" />
    <meta name="twitter:description" content="Create professional-looking code notebooks (PDFs) from your codebase." />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Code Notebook Maker",
      "url": "https://example.com/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://example.com/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>

    <style>
        :root {
            --bg: #0f1720;
            --card: #0b1220;
            --muted: #9aa6b2;
            --accent: #06b6d4;
            --glass: rgba(255, 255, 255, 0.04);
            --radius: 12px;
            --max: 1100px;
            --ff-sans: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: var(--ff-sans);
            background: linear-gradient(180deg, #071021 0%, #071827 60%);
            color: #e6eef6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.6;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            max-width: var(--max);
            margin: 0 auto;
            padding: 48px 20px 60px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 36px;
            flex-wrap: wrap;
        }

        .brand {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            width: 46px;
            height: 46px;
            background: linear-gradient(135deg, var(--accent), #7c3aed);
            border-radius: 10px;
            display: grid;
            place-items: center;
            box-shadow: 0 6px 18px rgba(4, 6, 12, 0.6);
            flex-shrink: 0;
        }

        .logo svg {
            width: 28px;
            height: 28px;
        }

        h1.site-title {
            font-size: 1.05rem;
            margin: 0;
        }

        p.tag {
            margin: 0;
            color: var(--muted);
            font-size: 0.92rem;
        }

        nav[aria-label="primary"] {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        nav a {
            color: var(--muted);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }

        nav a:hover,
        nav a:focus-visible {
            color: var(--accent);
            outline: none;
            text-decoration: underline;
        }

        /* Hero */
        .hero {
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 32px;
            align-items: start;
        }

        .hero-card {
            background: var(--card);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            padding: 28px;
            border-radius: var(--radius);
            box-shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
            backdrop-filter: blur(6px);
        }

        .kicker {
            display: inline-block;
            padding: 6px 10px;
            border-radius: 999px;
            background: rgba(6, 182, 212, 0.12);
            color: var(--accent);
            font-weight: 600;
            font-size: 0.85rem;
            user-select: none;
        }

        .hero h2 {
            margin: 12px 0 6px;
            font-size: 1.65rem;
            line-height: 1.05;
            font-weight: 700;
        }

        .hero p {
            color: var(--muted);
            margin: 0 0 18px;
            font-size: 1rem;
        }

        .features {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .feature {
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }

        .feature svg {
            flex: 0 0 36px;
            margin-top: 4px;
            fill: none;
            stroke-width: 1.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Upload form */
        .upload {
            padding: 18px;
            border-radius: var(--radius);
            background: linear-gradient(90deg, rgba(6, 182, 212, 0.04), rgba(124, 58, 237, 0.02));
            border: 1px solid rgba(255, 255, 255, 0.03);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 480px;
        }

        .upload form {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        label {
            font-weight: 600;
            color: #e6eef6;
            margin-bottom: 6px;
            user-select: none;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.02);
            background: transparent;
            color: inherit;
            margin-bottom: 6px;
            transition: border-color 0.3s ease;
            font-size: 1rem;
        }

        input[type="text"]:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 8px var(--accent);
        }

        small#error {
            color: #e55353;
            font-size: 0.85rem;
            margin-bottom: 12px;
            display: none;
        }

        .dropzone {
            border: 2px dashed rgba(255, 255, 255, 0.06);
            padding: 18px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: center;
            justify-content: center;
            min-height: 160px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), transparent);
            cursor: pointer;
            user-select: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .dropzone.dragover {
            border-color: var(--accent);
            box-shadow: 0 10px 30px rgba(6, 182, 212, 0.08);
        }

        .dropzone strong {
            font-size: 1.2rem;
            user-select: none;
        }

        .muted {
            color: var(--muted);
            font-size: 0.95rem;
            user-select: none;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            border-radius: 9px;
            background: linear-gradient(90deg, var(--accent), #7c3aed);
            color: #021924;
            font-weight: 700;
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(6, 182, 212, 0.08);
            transition: transform 0.16s ease, box-shadow 0.16s ease;
            user-select: none;
            margin-top: auto;
        }

        .btn:active {
            transform: translateY(1px);
        }
        
        /* New CSS for Spinner */
        .spinner {
            animation: rotate 1.5s linear infinite;
            width: 20px;
            height: 20px;
        }
        .spinner .path {
            stroke: #021924;
            stroke-linecap: round;
            animation: dash 1.5s ease-in-out infinite;
        }
        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }
        @keyframes dash {
            0% { stroke-dasharray: 1, 150; stroke-dashoffset: 0; }
            50% { stroke-dasharray: 90, 150; stroke-dashoffset: -35; }
            100% { stroke-dasharray: 90, 150; stroke-dashoffset: -124; }
        }

        .result {
            margin-top: 14px;
            font-size: 0.95rem;
            user-select: none;
        }

        /* Sections */
        section {
            margin-top: 48px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
        }

        /* Footer */
        footer {
            margin-top: auto;
            padding: 18px 0;
            color: var(--muted);
            font-size: 0.95rem;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.07);
        }

        /* Responsive */
        @media (max-width: 980px) {
            .hero {
                grid-template-columns: 1fr;
            }

            .grid-3 {
                grid-template-columns: repeat(2, 1fr);
            }

            .container {
                padding: 28px 16px 48px;
            }
        }

        @media (max-width: 620px) {
            .grid-3 {
                grid-template-columns: 1fr;
            }

            .logo {
                width: 40px;
                height: 40px;
            }

            .hero h2 {
                font-size: 1.35rem;
            }

            .upload {
                min-height: auto;
            }
        }

        /* small animation */
        .float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-6px);
            }

            100% {
                transform: translateY(0);
            }
        }

        /* accessibility focus */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* nice code preview box for UI demo */
        pre.code-sample {
            background: #071826;
            border-radius: 8px;
            padding: 12px;
            color: #cfeef8;
            overflow: auto;
            border: 1px solid rgba(255, 255, 255, 0.03);
        }

        /* Error style for input */
        .input-error {
            border-color: #e55353 !important;
            outline: none;
            box-shadow: 0 0 6px #e55353;
        }
    </style>
</head>

<body>
    <div class="container" role="main">
        <header>
            <div class="brand">
                <div class="logo float" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 7h16M4 12h10M4 17h16" stroke="white" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <div>
                    <h1 class="site-title">Code Notebook Maker</h1>
                    <p class="tag">Beautiful, searchable PDF notebooks from your source code — syntax-highlighted, TOC,
                        and
                        more.</p>
                </div>
            </div>
            <nav aria-label="Primary navigation">
                <a href="#features">Features</a>
                <a href="#how">How it works</a>
                <a href="#faq">FAQ</a>
            </nav>
        </header>

        <main>
            <div class="hero">
                <div class="hero-card" tabindex="-1">
                    <span class="kicker">Fast • Accessible • SEO-friendly</span>
                    <h2>Turn your code into a professional PDF notebook — instantly.</h2>
                    <p class="muted">Upload a ZIP of your project. We generate a PDF with a clean table of contents,
                        readable
                        code blocks, and folder descriptions. Optimized for printing and sharing.</p>

                    <div class="features" id="features">
                        <div class="feature">
                            <svg viewBox="0 0 24 24" width="36" height="36" aria-hidden="true" fill="#06b6d4">
                                <path d="M12 2l3 7h7l-5.5 4 2 7L12 16l-6.5 4 2-7L2 9h7z" />
                            </svg>
                            <div><strong>Clean typography</strong>
                                <div class="muted">Monospaced code, readable headings, proper spacing for print.</div>
                            </div>
                        </div>
                        <div class="feature">
                            <svg viewBox="0 0 24 24" width="36" height="36" aria-hidden="true" stroke="#7c3aed">
                                <path d="M3 7h18M7 11h10M5 15h14" />
                            </svg>
                            <div><strong>Table of contents</strong>
                                <div class="muted">Automatic TOC with links to files and folders.</div>
                            </div>
                        </div>
                        <div class="feature">
                            <svg viewBox="0 0 24 24" width="36" height="36" aria-hidden="true" stroke="#34d399">
                                <path d="M3 12h18M12 3v18" />
                            </svg>
                            <div><strong>SEO & Accessibility</strong>
                                <div class="muted">Semantic HTML, meta tags, and screen-reader friendly labels.</div>
                            </div>
                        </div>
                    </div>

                    <section aria-labelledby="how">
                        <h3 id="how">How it works</h3>
                        <ol class="muted" style="padding-left:18px">
                            <li>Upload a ZIP containing your codebase.</li>
                            <li>We parse files, add syntax highlighting and a table of contents.</li>
                            <li>Download a print-ready PDF.</li>
                        </ol>
                    </section>
                </div>

                <aside class="upload" aria-label="Upload form">
                    <form id="uploadForm" action="/uploads" method="post" enctype="multipart/form-data" novalidate>
                        <label for="title">
                            Notebook title <span style="color:#e55353" aria-hidden="true">*</span>
                        </label>
                        <input id="title" name="title" type="text" placeholder="Notebook title (e.g. My Project)"
                            required aria-describedby="titleError" autocomplete="off" />
                        <small id="titleError" role="alert"
                            style="color:#e55353; font-size:0.85rem; display:none; margin-bottom:12px;">
                            Please enter a title for your notebook.
                        </small>

                        <div id="drop" class="dropzone" tabindex="0" aria-label="Drop ZIP file here or click to choose">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" aria-hidden="true"
                                focusable="false">
                                <path d="M12 3v12" stroke="#06b6d4" stroke-width="1.6" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M8 7l4-4 4 4" stroke="#06b6d4" stroke-width="1.6" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <rect x="3" y="13" width="18" height="8" rx="2" stroke="#7c3aed" stroke-width="1.2" />
                            </svg>
                            <div style="text-align:center; user-select:none;">
                                <strong>Drop ZIP here</strong>
                                <div class="muted" style="margin-top:4px;">
                                    or
                                    <button type="button" id="browseBtn"
                                        style="all:unset;color:var(--accent);font-weight:700;cursor:pointer;">
                                        browse
                                    </button>
                                    to select
                                </div>
                            </div>
                            <input id="fileInput" name="file" type="file" accept=".zip" class="sr-only" required />
                        </div>

                        <div style="display:flex;gap:10px;margin-top:12px;align-items:center; flex-wrap: wrap;">
                            <button class="btn" type="submit" id="submitBtn">
                                <span id="btnText">Generate PDF</span>
                                <svg class="spinner" viewBox="0 0 50 50" style="display:none;" aria-hidden="true">
                                    <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                                </svg>
                            </button>
                            <div id="status" class="muted result" aria-live="polite" aria-atomic="true"
                                style="flex-grow:1; min-width: 120px;">
                                No file selected
                            </div>
                        </div>
                    </form>

                    <div style="margin-top:14px">
                        <small class="muted" style="user-select:none;">File size limit: 100 MB. Supported: .zip
                            containing source
                            files. We respect your privacy — files are deleted after processing.</small>
                    </div>
                </aside>
            </div>

            <section aria-labelledby="samples" style="margin-top:48px;">
                <h3 id="samples">Sample PDF Preview</h3>
                <p class="muted">This is a sample PDF preview of the notebook output.</p>
                <iframe src="{{ url_for('static', filename='sample.pdf') }}"
                    style="width:100%; height:500px; border:1px solid rgba(255,255,255,0.1);"
                    title="Sample PDF Preview"></iframe>
            </section>

            <section id="faq" aria-labelledby="faqh">
                <h3 id="faqh">FAQ</h3>
                <div class="grid-3">
                    <div>
                        <strong>Can I upload a folder?</strong>
                        <div class="muted">Use a ZIP. The site extracts and preserves folder structure for the TOC.
                        </div>
                    </div>
                    <div>
                        <strong>Is my code private?</strong>
                        <div class="muted">Yes — files are processed temporarily and removed. For extra security, host
                            your own
                            instance.</div>
                    </div>
                    <div>
                        <strong>How long does processing take?</strong>
                        <div class="muted">Usually just a few seconds, depending on the ZIP size and server load.</div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            &copy; 2025 Code Notebook Maker. All rights reserved.
        </footer>
    </div>

    <script>
        // Get elements
        const form = document.getElementById("uploadForm");
        const titleInput = document.getElementById("title");
        const titleError = document.getElementById("titleError");
        const fileInput = document.getElementById("fileInput");
        const dropzone = document.getElementById("drop");
        const browseBtn = document.getElementById("browseBtn");
        const status = document.getElementById("status");
        const submitBtn = document.getElementById("submitBtn");
        const btnText = document.getElementById("btnText");
        const spinner = submitBtn.querySelector('.spinner');


        // Browse button triggers file input click
        browseBtn.addEventListener("click", () => fileInput.click());

        // Update status when file selected
        fileInput.addEventListener("change", () => {
            if (fileInput.files.length > 0) {
                status.textContent = fileInput.files[0].name;
            } else {
                status.textContent = "No file selected";
            }
        });

        // Drag and drop handlers
        dropzone.addEventListener("dragover", (e) => {
            e.preventDefault();
            dropzone.classList.add("dragover");
        });
        dropzone.addEventListener("dragleave", () => {
            dropzone.classList.remove("dragover");
        });
        dropzone.addEventListener("drop", (e) => {
            e.preventDefault();
            dropzone.classList.remove("dragover");
            if (e.dataTransfer.files.length > 0) {
                const file = e.dataTransfer.files[0];
                if (file.type === "application/zip" || file.name.endsWith(".zip")) {
                    // Assign files to file input (some browsers support this)
                    if ("DataTransfer" in window) {
                        const dt = new DataTransfer();
                        dt.items.add(file);
                        fileInput.files = dt.files;
                    } else {
                        // fallback: can't set file input programmatically
                        alert("Your browser does not support drag and drop file assignment. Please use browse.");
                    }
                    status.textContent = file.name;
                } else {
                    status.textContent = "Please drop a valid ZIP file.";
                }
            }
        });

        // Keyboard accessibility for dropzone (open file dialog on Enter/Space)
        dropzone.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
                e.preventDefault();
                fileInput.click();
            }
        });

        // Form submission logic with fetch API
        form.addEventListener("submit", (e) => {
            e.preventDefault();

            let valid = true;

            if (!titleInput.value.trim()) {
                titleError.style.display = "block";
                titleInput.classList.add("input-error");
                titleInput.focus();
                valid = false;
            } else {
                titleError.style.display = "none";
                titleInput.classList.remove("input-error");
            }

            if (fileInput.files.length === 0) {
                status.textContent = "Please select a ZIP file.";
                valid = false;
            }

            if (valid) {
                // Show loading state
                submitBtn.disabled = true;
                btnText.textContent = "Generating...";
                spinner.style.display = "block";
                status.textContent = "Processing file...";

                const formData = new FormData(form);

                fetch(form.action, {
                    method: 'POST',
                    body: formData,
                })
                .then(response => {
                    if (!response.ok) {
                        return response.json().then(err => {
                            throw new Error(err.message || 'Server error');
                        });
                    }
                    return response.blob();
                })
                .then(blob => {
                    // Create a temporary URL for the PDF blob and trigger a download
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.style.display = 'none';
                    a.href = url;
                    a.download = `${titleInput.value.trim()}.pdf`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);

                    status.textContent = "Download complete!";
                })
                .catch(error => {
                    console.error('Error:', error);
                    status.textContent = `Error: ${error.message}`;
                })
                .finally(() => {
                    // Revert UI back to original state
                    submitBtn.disabled = false;
                    btnText.textContent = "Generate PDF";
                    spinner.style.display = "none";
                    
                    // Clear inputs after processing
                    fileInput.value = '';
                    titleInput.value = '';
                });
            }
        });

        // Remove error styling on input
        titleInput.addEventListener("input", () => {
            if (titleInput.value.trim()) {
                titleError.style.display = "none";
                titleInput.classList.remove("input-error");
            }
        });

        window.addEventListener('load', () => {
            fileInput.value = '';
            titleInput.value = '';
            status.textContent = "No file selected";
        });
    </script>
</body>

</html>